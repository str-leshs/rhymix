<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>뮤직 캘린더</title>
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>
    <style>
        #calendar {
            max-width: 900px;
            margin: 50px auto;
        }
        .fc-event-title {
            display: none;
        }
        .fc-event {
            background: none !important;
            border: none !important;
        }
        /* 캘린더 셀에 삽입될 앨범 커버 이미지 스타일 */
        .cover-thumb {
            width: 100%;
            height: 100%;
            object-fit: cover;
            border-radius: 5px;
        }
    </style>
</head>
<body>
<div id="calendar"></div>

<script>
    document.addEventListener('DOMContentLoaded', function () {
        const calendarEl = document.getElementById('calendar');

        const userId = "lion01";

        const calendar = new FullCalendar.Calendar(calendarEl, {
            initialView: 'dayGridMonth',  // 기본 설정 -> 월별 캘린더
            locale: 'ko',
            events: `/api/calendar/events?userId=${userId}`,
            eventContent: function (arg) {
                const img = document.createElement('img'); // 이미지 요소 생성
                img.src = arg.event.extendedProps.cover;   // 앨범 커버 이미지 URL 할당
                img.className = 'cover-thumb';             // CSS 클래스 적용
                return { domNodes: [img] };                 // 이미지 삽입
            }
        });

        calendar.render();  //화면에 렌더링
    });
</script>
</body>
</html>
