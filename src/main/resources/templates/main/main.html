<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>RHYMIX</title>

    <!-- Íµ¨Í∏Ä Ìè∞Ìä∏ -->
    <link href="https://fonts.googleapis.com/css2?family=Itim&family=Jua&family=Modak&display=swap" rel="stylesheet">


    <!-- Î©îÏù∏ CSS -->
    <link rel="stylesheet" href="css/main.css"/>

    <!-- FullCalendar CSS & JS -->
    <link href="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.css" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/fullcalendar@6.1.8/index.global.min.js"></script>

</head>
<body>

<!-- Î°úÍ∑∏Ïù∏Îêú nicknameÏùÑ Ïà®Í≤®ÏßÑ inputÏóê Îã¥ÏïÑ JSÏóêÏÑú ÏÇ¨Ïö© -->
<input type="hidden" id="hidden-nickname" th:value="${nickname}" />
<!-- ÏÑúÎ≤ÑÏóêÏÑú nicknameÏù¥ ÏóÜÏúºÎ©¥ main ÌéòÏù¥ÏßÄ ÏßÑÏûÖ Ï∞®Îã® -->
<div th:if="${nickname == null}">
    <script th:inline="javascript">
        /*<![CDATA[*/
        window.location.href = "/login";
        /*]]>*/
    </script>
</div>

<div class="container">

    <!-- Ìó§Îçî -->
    <header class="main-header">
        <div class="yellow-box">
            <div class="logo">RHYMIX</div>
        </div>
        <img class="lp-img" src="/image/LP_image.png" alt="LP ÎîîÏä§ÌÅ¨"/>
    </header>

    <!-- Î≥∏Î¨∏ -->
    <div class="main-content">

        <!-- Ï¢åÏ∏° ÏÇ¨Ïù¥Îìú -->
        <aside class="sidebar left">
            <!-- ÌîÑÎ°úÌïÑ -->
            <div class="profile-card">
                <div class="nickname-box" id="nickname-box"></div>
                <img class="avatar" id="profile-image" src="/image/placeholder_circle.png" alt="ÌîÑÎ°úÌïÑ"/>
                <div class="profile-meta">
                    <div class="tag-list" id="tag-list"></div>
                    <div class="bio-message" id="bio-message"></div>
                </div>
                <div class="profile-buttons">
                    <button id="mypage-btn">ÎßàÏù¥ÌéòÏù¥ÏßÄ</button>
                    <button id="logout-btn">Î°úÍ∑∏ÏïÑÏõÉ</button>
                </div>
                <!-- Spring Security Î°úÍ∑∏ÏïÑÏõÉÏùÑ ÏúÑÌïú Ïà®Í≤®ÏßÑ Ìèº -->
                <form id="logout-form" action="/logout" method="POST" style="display: none;"></form>

            </div>

            <!-- Ïò§ÎäòÏùò Í≥° -->
            <div class="music-pick" id="music-pick">
                <div class="music-card">
                    <img src="/image/placeholder_album.png" alt="Ïï®Î≤î Ïª§Î≤Ñ"/>
                    <div class="music-title-box"></div>
                    <div class="music-artist-box"></div>
                    <div class="mood-buttons">
                        <button id="weather-btn"></button>
                        <button id="mood-btn"></button>
                    </div>

                    <p class="mood-caption"></p>
                </div>
            </div>

            <!-- ÎåìÍ∏Ä -->
            <div id="comment-section">
                <div id="comment-list"></div>
                <div class="comment-input-box">
                    <label for="comment-input" class="visually-hidden">ÎåìÍ∏Ä ÏûÖÎ†•</label>
                    <input type="text" id="comment-input" placeholder="ÎåìÍ∏Ä ÏûëÏÑ±ÌïòÍ∏∞"/>
                    <button id="comment-submit-btn"></button>
                </div>
            </div>
        </aside>

        <!-- Ï§ëÏïô ÏòÅÏó≠ -->
        <main class="center">

            <!-- Îã¨Î†• -->
            <div class="calendar-header-wrapper">
                <button id="prev-btn" class="nav-btn">‚è™</button>
                <div id="calendar-title" class="calendar-title">2025ÎÖÑ 5Ïõî</div>
                <button id="next-btn" class="nav-btn">‚è©</button>
            </div>

            <div class="calendar-section">
                <div id="calendar"></div>
            </div>


            <!-- ÏùºÍ∏∞ -->
            <div class="diary-section" id="diary-container">
                <div class="diary-title"></div>
                <!-- Ïã§Ï†ú ÏùºÍ∏∞ ÎÇ¥Ïö©Ïù¥ ÎèôÏ†ÅÏúºÎ°ú Îì§Ïñ¥Í∞à ÏûêÎ¶¨ -->
            </div>

        </main>

        <!-- Ïö∞Ï∏° ÏÇ¨Ïù¥Îìú -->
        <aside class="sidebar right">
            <!-- Î©îÎâ¥ -->
            <div class="menu-box">
                <nav class="menu">
                    <h3>üìÇ MENU üìÇ</h3>
                    <a th:href="@{/today}">
                        <button id="post-btn">üéµ POST</button>
                    </a>
                    <a th:href="@{/playlist}">
                        <button id="playlist-btn">üéº PLAYLIST</button>
                    </a>

                    <button id="neighbor-btn">üßë‚Äçü§ù‚Äçüßë NEIGHBOR</button>
                </nav>

                <!-- Í≤ÄÏÉâÏ∞Ω -->
                <div class="search-box">
                    <label for="search-input" class="visually-hidden">Í≤ÄÏÉâÏ∞Ω</label>
                    <input
                            type="text"
                            id="search-input"
                            placeholder="Í≤ÄÏÉâÏñ¥Î•º ÏûÖÎ†•ÌïòÏÑ∏Ïöî..."
                    />
                    <span class="search-icon">üîç</span>
                </div>
            </div>
            <!-- ÌîåÎ†àÏù¥Î¶¨Ïä§Ìä∏ -->
            <div class="playlist-preview" id="playlist-box">
                <h4 id="playlist-title">@.mix</h4>   
                <ul id="playlist-items">
                    <!-- JSÏóêÏÑú <li> Ï∂îÍ∞ÄÎê® -->
                </ul>
            </div>

        </aside>

    </div>

    <!-- Ìë∏ÌÑ∞ -->
    <footer class="footer">
        <div class="footer-inner">
            <div class="footer-logo">
                <img src="/image/logo2.png" alt="Î°úÍ≥†" />
            </div>

            <div class="footer-links">
                <div class="footer-column">
                    <strong>ÌöåÏÇ¨</strong><br/>
                    <a href="#">ÏÉÅÏÑ∏Ï†ïÎ≥¥</a><br/>
                    <a href="#">For the ReCord</a>
                </div>
                <div class="footer-column">
                    <strong>Î©§Î≤Ñ</strong><br/>
                    <a href="#">Í∞úÏù∏Ï†ïÎ≥¥ Ï≤òÎ¶¨Î∞©Ïπ®</a><br/>
                    <a href="#">ÏïàÏ†Ñ Î∞è Í∞úÏù∏Ï†ïÎ≥¥ Î≥¥Ìò∏ÏÑºÌÑ∞</a>
                </div>
            </div>
        </div>

        <p class="credit"></p>
    </footer>

    <!--Ï∫òÎ¶∞Îçî Î™®Îã¨Ï∞Ω-->
    <div id="trackDetailModal" class="modal">
        <div class="modal-content" style="position: relative;">
            <button class="modal-close-btn" onclick="closeDetailModal()">‚úï</button>
            <h3>Ï∂îÏ≤úÍ≥° ÏÉÅÏÑ∏Ï†ïÎ≥¥</h3>
            <img id="modalDetailCover" src="" alt="Ïï®Î≤î Ïª§Î≤Ñ">
            <p><strong>Ï†úÎ™©:</strong> <span id="modalDetailTitle"></span></p>
            <p><strong>ÏïÑÌã∞Ïä§Ìä∏:</strong> <span id="modalDetailArtist"></span></p>
            <p><strong>Í∏∞Î∂Ñ:</strong> <span id="modalDetailMood"></span></p>
            <p><strong>ÎÇ†Ïî®:</strong> <span id="modalDetailWeather"></span></p>
            <p><strong>ÏΩîÎ©òÌä∏:</strong> <span id="modalDetailComment"></span></p>
        </div>
    </div>

</div>



<script src="/js/main.js"></script>

</body>
</html>